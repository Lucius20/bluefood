<!DOCTYPE html>
<html
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:th="http://thymeleaf.org" layout:decorate="~{layout}" th:with="link=@{/restaurant/home}">
	
	<body>
		<div layout:fragment="content">

			<div>
				<h1>Cadastro de Restaurante</h1>
				
				<br/>
				
				<div id="messageSuccess" th:if="${msg != null}">
					<span th:text="${msg}"></span>
				</div>
				
				<form method="post" th:object="${restaurant}" th:action="${editMode} ? @{/restaurant/save} : @{/public/restaurant/save}" enctype="multipart/form-data">
					<fieldset id="noBorder">
						<input type="hidden" th:field="*{id}" />
						
						<label for="name">Nome do Restaurante: </label><br/>	
						<input type="text" id="name" name="name" placeholder="Nome..." th:field="*{name}" th:classappend="${#fields.hasErrors('name')} ? 'inputError' : ''" />
						<br />
						<div id="messageError" th:if="${#fields.hasErrors('name')}">
							<span th:errors="*{name}"></span>
						</div><br/>
						
						<input type="hidden" th:field="*{cnpj}" />
						
						<div th:if="${!editMode}">
							<label for="cnpj">CNPJ: </label><br/>	
							<input type="text" id="cnpj" name="cnpj" placeholder="CNPJ..." th:field="*{cnpj}" th:classappend="${#fields.hasErrors('cnpj')} ? 'inputError' : ''"  onkeydown="return isNumberKey(event);" />
							<br />
							<div id="messageError" th:if="${#fields.hasErrors('cnpj')}">
								<span th:errors="*{cnpj}"></span>
							</div><br/>
						</div>
						
						<label for="email">E-mail: </label><br/>	
						<input type="text" id="email" name="email" placeholder="E-mail..." th:field="*{email}" th:classappend="${#fields.hasErrors('email')} ? 'inputError' : ''" />
						<br />
						<div id="messageError" th:if="${#fields.hasErrors('email')}">
							<span th:errors="*{email}"></span>
						</div><br/>
						
						<label for="phone">Telefone: </label><br/>	
						<input type="text" id="phone" name="phone" placeholder="Telefone..." th:field="*{phoneNumber}" th:classappend="${#fields.hasErrors('phoneNumber')} ? 'inputError' : ''"  onkeydown="return isNumberKey(event);" />
						<br />
						<div id="messageError" th:if="${#fields.hasErrors('phoneNumber')}">
							<span th:errors="*{phoneNumber}"></span>
						</div><br/>
						
						<label for="deliveryFee">Taxa de entrega: </label><br />	
						<input type="text" id="deliveryFee" name="deliveryFee" placeholder="Taxa de Entrega..." th:field="*{deliveryFee}" th:classappend="${#fields.hasErrors('deliveryFee')} ? 'inputError' : ''" onkeydown="return isNumberKeyCurrency(event);"/>
						<br />
						<div id="messageError" th:if="${#fields.hasErrors('deliveryFee')}">
							<span th:errors="*{deliveryFee}"></span>
						</div><br/>
						
						<label for="deliveryBaseTime">Tempo de entrega (m√≠n.): </label><br />	
						<input type="text" id="deliveryBaseTime" name="deliveryBaseTime" placeholder="Tempo de Entrega..." th:field="*{deliveryBaseTime}" th:classappend="${#fields.hasErrors('deliveryBaseTime')} ? 'inputError' : ''" />
						<br />
						<div id="messageError" th:if="${#fields.hasErrors('deliveryBaseTime')}">
							<span th:errors="*{deliveryBaseTime}"></span>
						</div><br/>
						
						<label for="category">Categoria de comida: </label><br/>	
						<select name="category" id="category" multiple="multiple" th:field="*{categories}" style="height: 90px;" th:classappend="${#fields.hasErrors('categories')} ? 'inputError' : ''">
							<option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.name}"></option>
						</select>
						<div id="messageError" th:if="${#fields.hasErrors('categories')}">
							<span th:errors="*{categories}"></span>
						</div><br/><br/>
						
						<div th:if="${!editMode}">
							<label for="logo">Logotipo: </label><br>	
							<input type="file" id="logo" name="logo" placeholder="Selecionar..." th:field="*{logoFile}" th:classappend="${#fields.hasErrors('logoFile')} ? 'inputError' : ''" />
							<br />
							<div id="messageError" th:if="${#fields.hasErrors('logoFile')}">
								<span th:errors="*{logoFile}"></span>
							</div><br/>
						</div>
						
						<div th:if="${!editMode}">
							<label for="password">Senha: </label> <br/>
							<input type="password" id="password" name="password" placeholder="Senha..." th:field="*{password}"  th:classappend="${#fields.hasErrors('password')} ? 'inputError' : ''"/> <br/><br/>
							<div id="messageError" th:if="${#fields.hasErrors('password')}">
								<span th:errors="*{password}"></span>
							</div> <br/>
						</div>
						
						<input type="hidden" name="password" value="*" th:if="${editMode}"/>
						
						<input type="submit" th:value="${!editMode} ? 'Cadastrar' : 'Alterar'"/>
					</fieldset>
				</form>
				<br>
				
				<input type="button" value="Voltar" th:onClick="'location.href=\'' + @{/restaurant/home} + '\';'">
			</div>
			
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			
			<input type="button" id="accDeleteBtn" value="Excluir Conta" th:onClick="'location.href=\'' + @{/restaurant/edit/delete} + '\';'">
		
		</div>

		<br><br>
	</body>
</html>

