<!DOCTYPE html>
<html
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:th="http://thymeleaf.org" layout:decorate="~{layout}" th:with="link=@{/client/home}">
	
	<body>
		<div layout:fragment="content">
		
			<div>
				<h1>Cadastro de Cliente</h1>
			</div>
			
			<br/>
			
			<div id="messageSuccess" th:if="${msg != null}">
				<span th:text="${msg}"></span>
			</div>
			
			<form method="post" th:object="${client}" th:action="${!editMode} ? @{/public/client/save} : @{/client/save}">
				<fieldset id="noBorder">
					<input type="hidden" th:field="*{id}"/>
				
					<label for="name">Nome: </label> <br/>
					<input type="text" id="name" name="name" placeholder="Nome..." th:field="*{name}"  th:classappend="${#fields.hasErrors('name')} ? 'inputError' : ''"/>
					<br/>
					<div id="messageError" th:if="${#fields.hasErrors('name')}">
						<span th:errors="*{name}"></span>
					</div>
					<br/>
					
					<input type="hidden" name="cpf" th:value="*{cpf}" th:if="${editMode}"/>
					
					<div th:if="${!editMode}">
						<label for="cpf">CPF: </label> <br/>
						<input type="text" id="cpf" name="cpf" placeholder="CPF..." th:field="*{cpf}"  th:classappend="${#fields.hasErrors('cpf')} ? 'inputError' : ''" onkeydown="return isNumberKey(event);" />
						<br/>
						<div id="messageError" th:if="${#fields.hasErrors('cpf')}">
							<span th:errors="*{cpf}"></span>
						</div>
						<br/>
					</div>
					
					<label for="email">E-mail: </label> <br/>
					<input type="text" id="email" name="email" placeholder="E-mail..." th:field="*{email}"  th:classappend="${#fields.hasErrors('email')} ? 'inputError' : ''"/>
					<br/>
					<div id="messageError" th:if="${#fields.hasErrors('email')}">
						<span th:errors="*{email}"></span>
					</div>
					<br/>
					
					<label for="phone">Telefone: </label> <br/>
					<input type="text" id="phone" name="phone" placeholder="Telefone..." th:field="*{phoneNumber}"  th:classappend="${#fields.hasErrors('phoneNumber')} ? 'inputError' : ''" onkeydown="return isNumberKey(event);" />
					<br/>
					<div id="messageError" th:if="${#fields.hasErrors('phoneNumber')}">
						<span th:errors="*{phoneNumber}"></span>
					</div>
					<br/>
					
					<label for="cep">CEP: </label> <br/>
					<input type="text" id="cep" name="cep" placeholder="CEP..." th:field="*{cep}"  th:classappend="${#fields.hasErrors('cep')} ? 'inputError' : ''" onkeydown="return isNumberKey(event);" />
					<br/>
					<div id="messageError" th:if="${#fields.hasErrors('cep')}">
						<span th:errors="*{cep}"></span>
					</div>
					<br/>
					
					<div th:if="${!editMode}">
						<label for="password">Senha: </label> <br/>
						<input type="password" id="password" name="password" placeholder="Senha..." th:field="*{password}"  th:classappend="${#fields.hasErrors('password')} ? 'inputError' : ''"/>
						<br/>
						<div id="messageError" th:if="${#fields.hasErrors('password')}">
							<span th:errors="*{password}"></span>
						</div>
						<br/>
					</div>
					
					<input type="hidden" name="password" value="*" th:if="${editMode}"/>
					
					<input type="submit" th:value="${!editMode} ? 'Cadastrar' : 'Alterar'"/>
				</fieldset>
			</form>
			
			<br/>
			
			<input type="button" value="Voltar" th:onClick="'location.href=\'' + @{/client/home} + '\';'">
			
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			
			<input type="button" id="accDeleteBtn" value="Excluir Conta" th:onClick="'location.href=\'' + @{/client/edit/delete} + '\';'">
		
		</div>
	</body>
</html>